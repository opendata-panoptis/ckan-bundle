{% ckan_extends %}

    {%- block custom_styles %}
      {%- if g.site_custom_css -%}
      <style>
        {{ g.site_custom_css | safe }}
      </style>
      {%- endif %}
      <link rel="stylesheet" href="/data_gov_gr.css" />
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    {% endblock %}

  {% block scripts %}
    {{ super() }}
      <!-- Load jQuery from CDN before other scripts -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

  <script>
    // Συνάρτηση που φορτώνει δυναμικά τα script
    function loadScripts(scripts) {
      scripts.forEach(src => {
        const script = document.createElement('script');
        script.src = src;
        document.body.appendChild(script);
      });
    }

         // Συνάρτηση που φορτώνει δυναμικά τα CSS
        function loadStyles(styles) {
            styles.forEach(href => {
              const link = document.createElement('link');
              link.rel = 'stylesheet';
              link.href = href;
              document.head.appendChild(link);
            });
          }

        document.addEventListener('DOMContentLoaded', function() {

          // Διαδικασία φόρτωσης των CSS και JS
          const path = window.location.pathname;

          if (path.includes('/dataset/') || path.includes('/package/')) {
            loadScripts([
              '/select-location.js',
              '/dataset-view.js',
              '/ConfirmModal.js'
            ]);

            loadStyles([
              '/select-location.css'
            ]);
          }
          else if (path.includes('/organization/')) {
            loadScripts([]);
            loadStyles([]);
          }
          // Άλλες σελίδες
      });
      </script>

  {% endblock %}
