{% extends "page.html" %}

{% block secondary_content %}
  <div class="sidebar-section">
      <div class="help-section">
        <h3><i class="fa fa-info-circle"></i> Οδηγίες</h3>

        <div class="info-box">
            <div class="type-description">
                <h5 class="type-header">
                    <i class="fa fa-database"></i> {{ _('Dataset') }}
                    <button class="toggle-type" aria-label="{{ _('Toggle description') }}">
                        <i class="fa fa-plus"></i>
                    </button>
                </h5>
                <div class="type-content hidden">
                    <p>
                        Το Dataset χρησιμοποιεί το πρότυπο DCAT-AP για την περιγραφή συνόλων δεδομένων.
                        Επιτρέπει την οργάνωση και δημοσίευση δομημένων δεδομένων με μεταδεδομένα που διευκολύνουν
                        την εύρεση και επαναχρησιμοποίησή τους. Μπορείτε να ανεβάσετε τα δεδομένα σας σε διάφορες μορφές
                        και να τα εμπλουτίσετε με αναλυτικές πληροφορίες για την προέλευση και χρήση τους.
                    </p>
                </div>
            </div>

            <div class="type-description">
                <h5 class="type-header">
                    <i class="fa fa-plug"></i> {{ _('Data Service') }}
                    <button class="toggle-type" aria-label="{{ _('Toggle description') }}">
                        <i class="fa fa-plus"></i>
                    </button>
                </h5>
                <div class="type-content hidden">
                    <p>
                        Το Data Service αξιοποιεί επίσης το πρότυπο DCAT-AP για την περιγραφή υπηρεσιών δεδομένων.
                        Εστιάζει στην τεκμηρίωση των τεχνικών προδιαγραφών και των σημείων πρόσβασης (endpoints)
                        μιας διαδικτυακής υπηρεσίας που παρέχει δεδομένα. Μπορείτε να καταγράψετε πληροφορίες για
                        τα API endpoints, τις μεθόδους πρόσβασης και τις παραμέτρους λειτουργίας της υπηρεσίας.
                    </p>
                </div>
            </div>

            {% if h.should_show_decision_button() %}
            <div class="type-description">
                <h5 class="type-header">
                    <i class="fa fa-gavel"></i> {{ _('Decision') }}
                    <button class="toggle-type" aria-label="{{ _('Toggle description') }}">
                        <i class="fa fa-plus"></i>
                    </button>
                </h5>
                <div class="type-content hidden">
                    <p>
                        Το Decision χρησιμοποιείται για την καταχώρηση και δημοσίευση λίστας συνόλων δεδομένων
                        που κατέχει ένας φορέας.
                        Ο Διαχειριστής Οργανισμού μπορεί να αναρτήσει λίστα με τίτλο, περιγραφή και συνδέσμους
                        προς τα ανοιχτά δεδομένα που είναι δημοσιευμένα στην πύλη. Οι πολίτες ενημερώνονται για τον αριθμό
                        και την κατάσταση των διαθέσιμων ή μη διαθέσιμων δεδομένων που κατέχουν οι φορείς.
                    </p>
                </div>
            </div>
            {% endif %}
        </div>
    </div>
  </div>

{% endblock %}

{% block primary_content %}

<div class="grid-buttons-container">
    {% for button in buttons %}
        <a href="{{ button.url }}" class="grid-button-card {{ button.name|lower|replace(' ', '-') }}">
            <div class="button-content">
                <h3>{{ button.title }}</h3>
                <p>{{ button.description }}</p>
            </div>
            {% if 'protected' in button.name|lower %}
                <svg class="button-icon protected-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round" stroke-linecap="round">
                  <!-- Κλειδαριά -->
                  <rect x="5" y="12" width="14" height="9" rx="1" ry="1"/>
                  <circle cx="12" cy="16" r="1"/>
                  <line x1="12" y1="17" x2="12" y2="19"/>
                  <!-- Λουκέτο -->
                  <path d="M8 12V8a4 4 0 0 1 8 0v4"/>
                </svg>
            {% elif 'dataset' in button.name|lower %}
                <svg class="button-icon dataset-icon" viewBox="0 0 24 24">
                    <rect x="3" y="3" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"/>
                    <line x1="7" y1="3" x2="7" y2="21" stroke="currentColor" stroke-width="2"/>
                    <line x1="11" y1="3" x2="11" y2="21" stroke="currentColor" stroke-width="2"/>
                    <line x1="15" y1="3" x2="15" y2="21" stroke="currentColor" stroke-width="2"/>
                    <line x1="3" y1="7" x2="21" y2="7" stroke="currentColor" stroke-width="2"/>
                    <line x1="3" y1="11" x2="21" y2="11" stroke="currentColor" stroke-width="2"/>
                    <line x1="3" y1="15" x2="21" y2="15" stroke="currentColor" stroke-width="2"/>
                    <line x1="3" y1="19" x2="21" y2="19" stroke="currentColor" stroke-width="2"/>
                </svg>
            {% elif 'service' in button.name|lower %}
                <svg class="button-icon api-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <!-- Πλαίσιο γύρω από το API -->
                  <rect x="2" y="2" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none"/>
                  <!-- Κείμενο API με κενό πάνω -->
                  <text x="12" y="7" font-family="Arial, sans-serif" font-size="4" text-anchor="middle" fill="currentColor">API</text>
                  <!-- Γραμμή σύνδεσης για ροή δεδομένων (κατέβασμα της γραμμής) -->
                  <path d="M4 14h16" stroke="currentColor" stroke-width="2"/>
                  <!-- Βέλος προς τα δεξιά που δείχνει τη ροή δεδομένων -->
                  <path d="M12 10l4 4-4 4" stroke="currentColor" stroke-width="2"/>
                  <!-- Βέλος προς τα αριστερά για την αντίστροφη ροή δεδομένων -->
                  <path d="M12 18l-4-4 4-4" stroke="currentColor" stroke-width="2"/>
                </svg>
            {% elif 'decision' in button.name|lower %}
                <svg class="button-icon hammer-icon" viewBox="0 0 23 23" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round" stroke-linecap="round">
                  <g transform="translate(-3,0) rotate(-15 8 12)">
                    <rect x="11" y="3" width="11" height="5" />
                    <line x1="17" y1="8" x2="17" y2="21" />
                    <line x1="16" y1="21" x2="18" y2="21" />
                  </g>
                </svg>
            {% endif %}
        </a>
    {% endfor %}
</div>

{% block styles %}
{{ super() }}
<link rel="stylesheet" href="/add_dataset.css" />
{% endblock %}

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Toggle για κάθε τύπο
    const typeHeaders = document.querySelectorAll('.type-header');
    typeHeaders.forEach(header => {
        header.addEventListener('click', function() {
            const content = this.nextElementSibling;
            const toggleBtn = this.querySelector('.toggle-type');
            const icon = toggleBtn.querySelector('i');

            content.classList.toggle('hidden');
            toggleBtn.classList.toggle('rotated');
            icon.classList.toggle('fa-plus');
            icon.classList.toggle('fa-minus');
        });
    });
  });
</script>

{% endblock %}
