{% extends "admin/base.html" %}

{% block primary_content_inner %}
  <h1 class="page-heading">{{ _('Επεξεργασία Ετικέτας') }}</h1>

  <form method="post" action="{{ h.url_for('vocabularyadmin.tag_edit', tag_id=tag.id) }}" class="form-horizontal">
    {{ h.csrf_input() }}

     <div class="control-group form-field-wrapper pb-2">
      <div class="controls">
        <label class="checkbox" for="is_active"> {# Η κλάση "checkbox" βοηθά στη σωστή εμφάνιση #}
            <input type="checkbox" id="is_active" name="is_active" value="true" {% if tag_metadata and tag_metadata.is_active %}checked{% endif %}>
            {{ _('Ενεργή') }}
        </label>
        <span class="info-block"></span>
      </div>
    </div>


    <div class="control-group form-field-wrapper pb-2">
      <label class="control-label" for="name">{{ _('Όνομα') }}</label>
      <div class="controls">
        <input type="text" id="name" name="name" class="form-control" value="{{ tag.name }}" required>
        <span class="info-block">{{ _('Το όνομα της ετικέτας ') }}</span>
      </div>
    </div>

    <div class="control-group form-field-wrapper pb-2">
      <label class="control-label" for="vocabulary_id">{{ _('Λεξιλόγιο') }}</label>
      <div class="controls">
        <select id="vocabulary_id" name="vocabulary_id" class="form-control" required>
          <option value="">{{ _('Επιλέξτε λεξιλόγιο...') }}</option>
          {% for vocabulary in vocabularies %}
            <option value="{{ vocabulary.id }}" {% if vocabulary.id == tag.vocabulary_id %}selected{% endif %}>{{ vocabulary.name }}</option>
          {% endfor %}
        </select>
        <span class="info-block">{{ _('Το λεξιλόγιο στο οποίο θα ανήκει η ετικέτα') }}</span>
      </div>
    </div>

    <div class="control-group form-field-wrapper pb-2">
      <label class="control-label" for="order_index">{{ _('Σειρά εμφάνισης / Order index') }}</label>
      <div class="controls">
        <input type="number" id="order_index" name="order_index"
               class="form-control" min="0"
               value="{{ tag_metadata.order_index if tag_metadata and tag_metadata.order_index is not none else '' }}">
        <span class="info-block">
          {{ _('Μικρότερη τιμή = εμφανίζεται πιο ψηλά στη λίστα. Προαιρετικό.') }}
        </span>
      </div>
    </div>

    <div class="control-group form-field-wrapper pb-2">
      <label class="control-label" for="value_uri">{{ _('URI Τιμής') }}</label>
      <div class="controls">
        <input type="text" id="value_uri" name="value_uri" class="form-control" value="{{ tag_metadata.value_uri or '' if tag_metadata else '' }}">
        <span class="info-block">{{ _('Το URI της τιμής') }}</span>
      </div>
    </div>

    <div class="control-group form-field-wrapper pb-2">
      <label class="control-label" for="label_el">{{ _('Ετικέτα (Ελληνικά)') }}</label>
      <div class="controls">
        <input type="text" id="label_el" name="label_el" class="form-control" value="{{ tag_metadata.label_el or '' if tag_metadata else '' }}">
        <span class="info-block">{{ _('Η ετικέτα στα ελληνικά (προαιρετικό)') }}</span>
      </div>
    </div>

    <div class="control-group form-field-wrapper pb-2">
      <label class="control-label" for="label_en">{{ _('Ετικέτα (Αγγλικά)') }}</label>
      <div class="controls">
        <input type="text" id="label_en" name="label_en" class="form-control" value="{{ tag_metadata.label_en or '' if tag_metadata else '' }}">
        <span class="info-block">{{ _('Η ετικέτα στα αγγλικά (προαιρετικό)') }}</span>
      </div>
    </div>

    <div class="control-group form-field-wrapper pb-2">
      <label class="control-label" for="description_el">{{ _('Περιγραφή (Ελληνικά)') }}</label>
      <div class="controls">
        <textarea id="description_el" name="description_el" class="form-control" rows="3">{{ tag_metadata.description_el or '' if tag_metadata else '' }}</textarea>
        <span class="info-block">{{ _('Η περιγραφή στα ελληνικά (προαιρετικό)') }}</span>
      </div>
    </div>

    <div class="control-group form-field-wrapper pb-2">
      <label class="control-label" for="description_en">{{ _('Περιγραφή (Αγγλικά)') }}</label>
      <div class="controls">
        <textarea id="description_en" name="description_en" class="form-control" rows="3">{{ tag_metadata.description_en or '' if tag_metadata else '' }}</textarea>
        <span class="info-block">{{ _('Η περιγραφή στα αγγλικά (προαιρετικό)') }}</span>
      </div>
    </div>


    <div class="form-actions">
      <button type="submit" class="btn btn-primary">{{ _('Ενημέρωση') }}</button>
      <a href="{{ h.url_for('vocabularyadmin.vocabulary_admin') }}" class="btn">{{ _('Ακύρωση') }}</a>
    </div>
  </form>
{% endblock %}
